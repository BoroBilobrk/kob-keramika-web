<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8" />
  <title>KOB-Keramika</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CSS -->
  <link rel="stylesheet" href="CSS/main.css" />

  <!-- Firebase COMPAT -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <!-- jsPDF (za kasniji PDF) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDIuDJqFE3G2yk98WPwGHkc6xomWXUdu3o",
      authDomain: "kob-keramika.firebaseapp.com",
      projectId: "kob-keramika",
      storageBucket: "kob-keramika.firebasestorage.app",
      messagingSenderId: "604488601212",
      appId: "1:604488601212:web:70552af260d9e5a283c3f9",
      measurementId: "G-KDTBSP3H39"
    };
    firebase.initializeApp(firebaseConfig);
    window.auth = firebase.auth();
    window.db = firebase.firestore();
  </script>
</head>
<body>

  <!-- LOGIN / REGISTRACIJA -->
  <section id="authView" class="view">
    <header class="header">
      <img src="logo.png" class="logo" alt="KOB-Keramika" />
      <h1 class="title">KOB-Keramika</h1>
      <p class="subtitle">Interni sustav za obraÄun keramiÄarskih radova</p>
    </header>

    <div class="card">
      <h2>Prijava</h2>
      <input id="loginEmail" type="email" placeholder="E-mail" />
      <input id="loginPass" type="password" placeholder="Lozinka" />
      <button class="btn-primary" onclick="loginUser()">Prijava</button>
    </div>

    <p class="center-text">ili</p>

    <div class="card">
      <h2>Registracija</h2>
      <input id="regEmail" type="email" placeholder="E-mail" />
      <input id="regPass" type="password" placeholder="Lozinka (min. 6 znakova)" />
      <button class="btn-secondary" onclick="registerUser()">Registracija</button>
    </div>
  </section>

  <!-- GLAVNA APLIKACIJA -->
  <section id="appView" class="view hidden">

    <!-- GORNJI BAR -->
    <div class="top-bar">
      <div>
        <div class="top-title">KOB-Keramika</div>
        <div id="userEmailLabel" class="top-subtitle"></div>
      </div>
      <button class="btn-danger" onclick="logoutUser()">Odjava</button>
    </div>

    <!-- GLAVNI IZBORNIK (kao stara verzija) -->
    <section id="menuView" class="subview">
      <header class="header small-header">
        <img src="logo.png" class="logo home-logo" alt="KOB-Keramika" />
        <h2 class="title">Izbornik</h2>
        <p class="subtitle">Odaberi Å¡to Å¾eliÅ¡ raditi</p>
      </header>

      <div class="menu-list">
        <button class="menu-item" onclick="showSection('calc')">
          <span>ğŸ“ Automatski obraÄun prostorije</span>
        </button>
        <button class="menu-item" onclick="showSection('manual')">
          <span>âœï¸ RuÄni unos mjera (u pripremi)</span>
        </button>
        <button class="menu-item" onclick="showSection('costs')">
          <span>ğŸ’° TroÅ¡kovi po radniku</span>
        </button>
        <button class="menu-item" onclick="showSection('prices')">
          <span>ğŸ’¶ Cjenik</span>
        </button>
        <button class="menu-item" onclick="showSection('projects')">
          <span>ğŸ“ Projekti</span>
        </button>
        <button class="menu-item" onclick="showSection('archive')">
          <span>ğŸ“¦ Arhiva</span>
        </button>
      </div>
    </section>

    <!-- AUTOMATSKI OBRAÄŒUN PROSTORIJE -->
    <section id="calcView" class="subview hidden">
      <div class="card">
        <button class="btn-secondary" onclick="showSection('menu')">â† Natrag na izbornik</button>
        <h2>ğŸ“ Automatski obraÄun prostorije</h2>
        <p class="small-text">
          Unesi dimenzije prostorije, dodatne plohe i otvore (vrata, prozore, geberite, vertikale). 
          Program raÄuna pod, zidove, hidro, hidro trake, silikon, lajsne i gerung.
        </p>
      </div>
      <div id="calcContainer"></div>
    </section>

    <!-- RUÄŒNI UNOS MJERA (stub) -->
    <section id="manualView" class="subview hidden">
      <div class="card">
        <button class="btn-secondary" onclick="showSection('menu')">â† Natrag na izbornik</button>
        <h2>âœï¸ RuÄni unos mjera</h2>
        <p class="small-text">Ovaj modul je u pripremi.</p>
      </div>
    </section>

    <!-- TROÅ KOVI -->
    <section id="costsView" class="subview hidden">
      <div class="card">
        <button class="btn-secondary" onclick="showSection('menu')">â† Natrag na izbornik</button>
        <h2>ğŸ’° TroÅ¡kovi po radniku</h2>
      </div>
      <div id="costsContainer"></div>
    </section>

    <!-- CJENIK -->
    <section id="pricesView" class="subview hidden">
      <div class="card">
        <button class="btn-secondary" onclick="showSection('menu')">â† Natrag na izbornik</button>
        <h2>ğŸ’¶ Cjenik</h2>
      </div>
      <div id="pricesContainer"></div>
    </section>

    <!-- PROJEKTI -->
    <section id="projectsView" class="subview hidden">
      <div class="card">
        <button class="btn-secondary" onclick="showSection('menu')">â† Natrag na izbornik</button>
        <h2>ğŸ“ Projekti</h2>
      </div>
      <div id="projectsContainer"></div>
    </section>

    <!-- ARHIVA -->
    <section id="archiveView" class="subview hidden">
      <div class="card">
        <button class="btn-secondary" onclick="showSection('menu')">â† Natrag na izbornik</button>
        <h2>ğŸ“¦ Arhiva</h2>
      </div>
      <div id="archiveContainer"></div>
    </section>

  </section>

  <!-- JS -->
  <script src="Js/calc.js"></script>
  <script src="Js/app.js"></script>

</body>
</html>
