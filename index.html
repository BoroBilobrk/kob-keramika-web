<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8" />
  <title>KOB-Keramika</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CSS -->
  <link rel="stylesheet" href="CSS/main.css" />

  <!-- Firebase COMPAT 9.x -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDIuDJqFE3G2yk98WPwGHkc6xomWXUdu3o",
      authDomain: "kob-keramika.firebaseapp.com",
      projectId: "kob-keramika",
      storageBucket: "kob-keramika.firebasestorage.app",
      messagingSenderId: "604488601212",
      appId: "1:604488601212:web:70552af260d9e5a283c3f9",
      measurementId: "G-KDTBSP3H39"
    };
    firebase.initializeApp(firebaseConfig);
    window.auth = firebase.auth();
    window.db = firebase.firestore();
  </script>
</head>
<body>

  <!-- AUTH VIEW -->
  <section id="authView" class="view">
    <header class="header">
      <img src="logo.png" class="logo" alt="KOB-Keramika">
      <h1 class="title">KOB-Keramika</h1>
      <p class="subtitle">Interni sustav za obraÄun keramiÄarskih radova</p>
    </header>

    <div class="card">
      <h2>Prijava</h2>
      <input id="loginEmail" type="email" placeholder="E-mail" />
      <input id="loginPass" type="password" placeholder="Lozinka" />
      <button class="btn-primary" onclick="loginUser()">Prijava</button>
    </div>

    <p class="center-text">ili</p>

    <div class="card">
      <h2>Registracija</h2>
      <input id="regEmail" type="email" placeholder="E-mail" />
      <input id="regPass" type="password" placeholder="Lozinka (min. 6 znakova)" />
      <button class="btn-secondary" onclick="registerUser()">Registracija</button>
    </div>
  </section>

  <!-- MAIN APP VIEW -->
  <section id="appView" class="view hidden">

    <!-- GORNJI BAR -->
    <div class="top-bar">
      <div>
        <div class="top-title">KOB-Keramika</div>
        <div id="userEmailLabel" class="top-subtitle"></div>
      </div>
      <button class="btn-danger" onclick="logoutUser()">Odjava</button>
    </div>

    <!-- HOME TAB -->
    <div id="tabHome" class="tab-view">
      <header class="header small-header">
        <img src="logo.png" class="logo home-logo" alt="KOB-Keramika">
        <h2 class="title">DobrodoÅ¡li</h2>
        <p class="subtitle">Odaberi Å¡to Å¾eliÅ¡ raditi</p>
      </header>

      <div class="card-grid">
        <button class="card-btn" onclick="switchTab('calc')">
          <span class="card-emoji">ğŸ“</span>
          <span>Brzi obraÄun</span>
        </button>
        <button class="card-btn" onclick="switchTab('projects')">
          <span class="card-emoji">ğŸ“</span>
          <span>Projekti</span>
        </button>
        <button class="card-btn" onclick="switchTab('archive')">
          <span class="card-emoji">ğŸ“¦</span>
          <span>Arhiva</span>
        </button>
        <button class="card-btn" onclick="switchTab('costs')">
          <span class="card-emoji">ğŸ’°</span>
          <span>TroÅ¡kovi</span>
        </button>
        <button class="card-btn" onclick="switchTab('prices')">
          <span class="card-emoji">ğŸ’¶</span>
          <span>Cjenik</span>
        </button>
      </div>
    </div>

    <!-- CALC TAB -->
    <div id="tabCalc" class="tab-view hidden">
      <h2 class="tab-title">Brzi obraÄun prostorije</h2>
      <div id="calcContainer"></div>
    </div>

    <!-- PROJECTS TAB -->
    <div id="tabProjects" class="tab-view hidden">
      <h2 class="tab-title">Projekti</h2>
      <div id="projectsContainer"></div>
    </div>

    <!-- ARCHIVE TAB -->
    <div id="tabArchive" class="tab-view hidden">
      <h2 class="tab-title">Arhiva</h2>
      <div id="archiveContainer"></div>
    </div>

    <!-- COSTS TAB -->
    <div id="tabCosts" class="tab-view hidden">
      <h2 class="tab-title">TroÅ¡kovi po radniku</h2>
      <div id="costsContainer"></div>
    </div>

    <!-- PRICES TAB -->
    <div id="tabPrices" class="tab-view hidden">
      <h2 class="tab-title">Cjenik</h2>
      <div id="pricesContainer"></div>
    </div>

    <!-- DONJA NAVIGACIJA -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-tab="home" onclick="switchTab('home')">ğŸ <span>PoÄetna</span></button>
      <button class="nav-btn" data-tab="calc" onclick="switchTab('calc')">ğŸ“<span>ObraÄun</span></button>
      <button class="nav-btn" data-tab="projects" onclick="switchTab('projects')">ğŸ“<span>Projekti</span></button>
      <button class="nav-btn" data-tab="archive" onclick="switchTab('archive')">ğŸ“¦<span>Arhiva</span></button>
      <button class="nav-btn" data-tab="costs" onclick="switchTab('costs')">ğŸ’°<span>TroÅ¡kovi</span></button>
      <button class="nav-btn" data-tab="prices" onclick="switchTab('prices')">ğŸ’¶<span>Cjenik</span></button>
    </nav>

  </section>

  <!-- JS -->
  <script src="JS/calc.js"></script>
  <script src="JS/app.js"></script>
</body>
</html>
